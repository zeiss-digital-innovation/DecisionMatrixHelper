import{Q as i}from"./QBtn.c410cca0.js";import{Q as E}from"./QSpace.d26b1657.js";import{a as y,b as r,d as _,e as C,f as Q}from"./QTable.efc392cc.js";import{Q as h}from"./QInput.1508ffc7.js";import{a as U,c as S,S as a,v as A}from"./alternative.bf901562.js";import{v as q,r as u,y as D,z as N,A as s,B as l,E as p}from"./index.d9f54fa7.js";const O=q({__name:"FeaturesComponent",setup(T){const n=U(),f=S(),d=u(!1),m=u(""),c=u(["name","description","status","delete","isExclusive"]),v=u(!1);function V(t){return t.length<4||t.length>1e3?(d.value=!0,m.value="The Description must be between 4 and 1000 characters long!",!1):(d.value=!1,m.value="",!0)}const g=[{label:a[a["very important"]],value:a["very important"]},{label:a[a.important],value:a.important},{label:a[a["less important"]],value:a["less important"]},{label:a[a.unimportant],value:a.unimportant},{label:a[a.undefined],value:a.undefined}],b=[{name:"name",align:"left",label:"Features",field:"name",sortable:!0},{name:"description",align:"left",label:"Description (editable)",field:"description",sortable:!0},{name:"isExclusive",label:"Exclusive Feature",field:"isExclusive",sortable:!0},{name:"status",align:"center",label:"Status",field:"status",sortable:!0},{name:"delete",label:"",field:"delete"}];function x(){if(n.features.length>0&&n.features[n.features.length-1].name==="new Feature")return;const t={id:A(),name:"Feature "+n.features.length,description:"new Feature description",status:a.undefined,isExclusive:!1};n.addFeature(t),f.updateAlternativeWithFeature(t)}function F(t){n.deleteFeature(t),f.deleteAssessmentWithFeature(t)}function k(){n.deleteAllFeatures()}return(t,w)=>(D(),N(Q,{flat:"",title:"Features",rows:p(n).features,columns:b,"visible-columns":c.value,"rows-per-page-options":[10],"row-key":"features.id"},{top:s(()=>[l(i,{class:"q-ma-md",color:"primary",icon:"add",label:"",onClick:x,"no-caps":""}),l(i,{class:"q-ma-md",color:"primary",icon:"delete",label:"",onClick:k,"no-caps":""}),l(E),l(y,{modelValue:c.value,"onUpdate:modelValue":w[0]||(w[0]=e=>c.value=e),multiple:"",outlined:"",dense:"","options-dense":"","display-value":t.$q.lang.table.columns,"emit-value":"","map-options":"",options:b,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value"]),l(i,{class:"q-ml-md",color:"primary","icon-right":"archive",label:"Export to csv","no-caps":""})]),body:s(e=>[l(C,{props:e},{default:s(()=>[l(r,{key:"name",props:e,"auto-width":""},{default:s(()=>[l(h,{style:{"min-width":"128px"},label:"Name",modelValue:e.row.name,"onUpdate:modelValue":o=>e.row.name=o,type:"textarea",readonly:v.value,autogrow:"",borderless:"",dense:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1032,["props"]),l(r,{key:"description",props:e},{default:s(()=>[l(h,{label:"Description",modelValue:e.row.description,"onUpdate:modelValue":o=>e.row.description=o,type:"textarea",readonly:v.value,autogrow:"",borderless:"",dense:"",validate:V,error:d.value,"error-message":m.value},null,8,["modelValue","onUpdate:modelValue","readonly","error","error-message"])]),_:2},1032,["props"]),l(r,{key:"isExclusive",props:e,"auto-width":""},{default:s(()=>[l(_,{modelValue:e.row.isExclusive,"onUpdate:modelValue":o=>e.row.isExclusive=o},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),l(r,{key:"status",props:e,"auto-width":""},{default:s(()=>[l(y,{style:{"min-width":"180px"},label:"Priority","map-options":"",modelValue:e.row.status,"onUpdate:modelValue":o=>e.row.status=o,options:g,disable:e.row.isExclusive,"emit-value":"",borderless:"",dense:"",clearable:e.row.status!=p(a).undefined,onClear:o=>e.row.status=p(a).undefined},null,8,["modelValue","onUpdate:modelValue","disable","clearable","onClear"])]),_:2},1032,["props"]),l(r,{key:"delete",props:e,"auto-width":""},{default:s(()=>[l(i,{class:"q-ml-md",color:"secondary","icon-right":"delete","no-caps":"",onClick:o=>F(e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),"bottom-row":s(()=>[]),_:1},8,["rows","visible-columns"]))}});export{O as _};
