import{c as J,h as he,a as nt,b as $e,u as ot,d as it,Q as te,e as rt,f as ut,g as I,R as se}from"./QBtn.0dc1d4ca.js";import{c as o,h as C,i as Ve,e as j,r as V,w as Q,o as We,l as ge,g as ae,a as st,n as Be,b as M,s as ct,d as je,f as dt,p as ft,j as Ue,k as vt,m as mt,q as ce,t as ht,u as gt,v as K,x as G,y as h,z as u,A as Y,B as Se,C as de,D as Ce,E as ie,F as bt,R as yt,P as wt}from"./index.1022efcc.js";import{Q as De}from"./QSpace.e0c7e4eb.js";import{Q as Fe,T as ke,a as pt,b as xt,c as _e,C as oe}from"./ClosePopup.50b63f78.js";import{u as St,a as Ct,b as kt,c as _t,d as qt,e as fe,f as zt,g as Ft,h as Vt,i as Tt,j as Qt,k as $t,l as Bt,m as Le,n as Dt,Q as Lt,o as qe,p as Ot,q as Pt,r as ve,s as X,t as Oe,v as At}from"./features.028c97ed.js";import{Q as Rt}from"./QList.3c83c0a6.js";import{u as Nt,a as It}from"./use-dark.75adc627.js";import{Q as Pe,a as ze,b as Ae}from"./QCard.6c688ff4.js";import{u as Mt}from"./use-file-dom-props.4d9728b8.js";var Re=J({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:g}){const v=o(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>C("div",{class:v.value},he(g.default))}}),Ne=J({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:g}){const v=o(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>C("div",{class:v.value,role:"toolbar"},he(g.default))}}),Wt=J({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:g,emit:v}){const{proxy:{$q:c}}=ae(),l=Ve(ge,j);if(l===j)return console.error("QHeader needs to be child of QLayout"),j;const r=V(parseInt(e.heightHint,10)),x=V(!0),F=o(()=>e.reveal===!0||l.view.value.indexOf("H")>-1||c.platform.is.ios&&l.isContainer.value===!0),q=o(()=>{if(e.modelValue!==!0)return 0;if(F.value===!0)return x.value===!0?r.value:0;const t=r.value-l.scroll.value.position;return t>0?t:0}),y=o(()=>e.modelValue!==!0||F.value===!0&&x.value!==!0),n=o(()=>e.modelValue===!0&&y.value===!0&&e.reveal===!0),L=o(()=>"q-header q-layout__section--marginal "+(F.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(y.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),O=o(()=>{const t=l.rows.value.top,k={};return t[0]==="l"&&l.left.space===!0&&(k[c.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),t[2]==="r"&&l.right.space===!0&&(k[c.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),k});function S(t,k){l.update("header",t,k)}function i(t,k){t.value!==k&&(t.value=k)}function s({height:t}){i(r,t),S("size",t)}function T(t){n.value===!0&&i(x,!0),v("focusin",t)}Q(()=>e.modelValue,t=>{S("space",t),i(x,!0),l.animate()}),Q(q,t=>{S("offset",t)}),Q(()=>e.reveal,t=>{t===!1&&i(x,e.modelValue)}),Q(x,t=>{l.animate(),v("reveal",t)}),Q(l.scroll,t=>{e.reveal===!0&&i(x,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const p={};return l.instances.header=p,e.modelValue===!0&&S("size",r.value),S("space",e.modelValue),S("offset",q.value),We(()=>{l.instances.header===p&&(l.instances.header=void 0,S("size",0),S("offset",0),S("space",!1))}),()=>{const t=nt(g.default,[]);return e.elevated===!0&&t.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(C(Fe,{debounce:0,onResize:s})),C("header",{class:L.value,style:O.value,onFocusin:T},t)}}});const Ie=150;var jt=J({name:"QDrawer",inheritAttrs:!1,props:{...St,...Nt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ct,"on-layout","mini-state"],setup(e,{slots:g,emit:v,attrs:c}){const l=ae(),{proxy:{$q:r}}=l,x=It(e,r),{preventBodyScroll:F}=zt(),{registerTimeout:q,removeTimeout:y}=kt(),n=Ve(ge,j);if(n===j)return console.error("QDrawer needs to be child of QLayout"),j;let L,O,S;const i=V(e.behavior==="mobile"||e.behavior!=="desktop"&&n.totalWidth.value<=e.breakpoint),s=o(()=>e.mini===!0&&i.value!==!0),T=o(()=>s.value===!0?e.miniWidth:e.width),p=V(e.showIfAbove===!0&&i.value===!1?!0:e.modelValue===!0),t=o(()=>e.persistent!==!0&&(i.value===!0||ne.value===!0));function k(a,b){if($(),a!==!1&&n.animate(),R(0),i.value===!0){const A=n.instances[Z.value];A!==void 0&&A.belowBreakpoint===!0&&A.hide(!1),H(1),n.isContainer.value!==!0&&F(!0)}else H(0),a!==!1&&we(!1);q(()=>{a!==!1&&we(!0),b!==!0&&v("show",a)},Ie)}function f(a,b){P(),a!==!1&&n.animate(),H(0),R(N.value*T.value),pe(),b!==!0?q(()=>{v("hide",a)},Ie):y()}const{show:z,hide:d}=_t({showing:p,hideOnRouteChange:t,handleShow:k,handleHide:f}),{addToHistory:$,removeFromHistory:P}=qt(p,d,t),w={belowBreakpoint:i,hide:d},_=o(()=>e.side==="right"),N=o(()=>(r.lang.rtl===!0?-1:1)*(_.value===!0?1:-1)),le=V(0),W=V(!1),U=V(!1),re=V(T.value*N.value),Z=o(()=>_.value===!0?"left":"right"),m=o(()=>p.value===!0&&i.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:T.value:0),B=o(()=>e.overlay===!0||e.miniToOverlay===!0||n.view.value.indexOf(_.value?"R":"L")>-1||r.platform.is.ios===!0&&n.isContainer.value===!0),D=o(()=>e.overlay===!1&&p.value===!0&&i.value===!1),ne=o(()=>e.overlay===!0&&p.value===!0&&i.value===!1),be=o(()=>"fullscreen q-drawer__backdrop"+(p.value===!1&&W.value===!1?" hidden":"")),He=o(()=>({backgroundColor:`rgba(0,0,0,${le.value*.4})`})),Te=o(()=>_.value===!0?n.rows.value.top[2]==="r":n.rows.value.top[0]==="l"),Ee=o(()=>_.value===!0?n.rows.value.bottom[2]==="r":n.rows.value.bottom[0]==="l"),Ke=o(()=>{const a={};return n.header.space===!0&&Te.value===!1&&(B.value===!0?a.top=`${n.header.offset}px`:n.header.space===!0&&(a.top=`${n.header.size}px`)),n.footer.space===!0&&Ee.value===!1&&(B.value===!0?a.bottom=`${n.footer.offset}px`:n.footer.space===!0&&(a.bottom=`${n.footer.size}px`)),a}),Ye=o(()=>{const a={width:`${T.value}px`,transform:`translateX(${re.value}px)`};return i.value===!0?a:Object.assign(a,Ke.value)}),Xe=o(()=>"q-drawer__content fit "+(n.isContainer.value!==!0?"scroll":"overflow-auto")),Je=o(()=>`q-drawer q-drawer--${e.side}`+(U.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(x.value===!0?" q-drawer--dark q-dark":"")+(W.value===!0?" no-transition":p.value===!0?"":" q-layout--prevent-focus")+(i.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${s.value===!0?"mini":"standard"}`+(B.value===!0||D.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Te.value===!0?" q-drawer--top-padding":""))),Ge=o(()=>{const a=r.lang.rtl===!0?e.side:Z.value;return[[ke,at,void 0,{[a]:!0,mouse:!0}]]}),Ze=o(()=>{const a=r.lang.rtl===!0?Z.value:e.side;return[[ke,Qe,void 0,{[a]:!0,mouse:!0}]]}),et=o(()=>{const a=r.lang.rtl===!0?Z.value:e.side;return[[ke,Qe,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function ye(){lt(i,e.behavior==="mobile"||e.behavior!=="desktop"&&n.totalWidth.value<=e.breakpoint)}Q(i,a=>{a===!0?(L=p.value,p.value===!0&&d(!1)):e.overlay===!1&&e.behavior!=="mobile"&&L!==!1&&(p.value===!0?(R(0),H(0),pe()):z(!1))}),Q(()=>e.side,(a,b)=>{n.instances[b]===w&&(n.instances[b]=void 0,n[b].space=!1,n[b].offset=0),n.instances[a]=w,n[a].size=T.value,n[a].space=D.value,n[a].offset=m.value}),Q(n.totalWidth,()=>{(n.isContainer.value===!0||document.qScrollPrevented!==!0)&&ye()}),Q(()=>e.behavior+e.breakpoint,ye),Q(n.isContainer,a=>{p.value===!0&&F(a!==!0),a===!0&&ye()}),Q(n.scrollbarWidth,()=>{R(p.value===!0?0:void 0)}),Q(m,a=>{E("offset",a)}),Q(D,a=>{v("on-layout",a),E("space",a)}),Q(_,()=>{R()}),Q(T,a=>{R(),xe(e.miniToOverlay,a)}),Q(()=>e.miniToOverlay,a=>{xe(a,T.value)}),Q(()=>r.lang.rtl,()=>{R()}),Q(()=>e.mini,()=>{e.modelValue===!0&&(tt(),n.animate())}),Q(s,a=>{v("mini-state",a)});function R(a){a===void 0?Be(()=>{a=p.value===!0?0:T.value,R(N.value*a)}):(n.isContainer.value===!0&&_.value===!0&&(i.value===!0||Math.abs(a)===T.value)&&(a+=N.value*n.scrollbarWidth.value),re.value=a)}function H(a){le.value=a}function we(a){const b=a===!0?"remove":n.isContainer.value!==!0?"add":"";b!==""&&document.body.classList[b]("q-body--drawer-toggle")}function tt(){clearTimeout(O),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),U.value=!0,O=setTimeout(()=>{U.value=!1,l&&l.proxy&&l.proxy.$el&&l.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function at(a){if(p.value!==!1)return;const b=T.value,A=fe(a.distance.x,0,b);if(a.isFinal===!0){A>=Math.min(75,b)===!0?z():(n.animate(),H(0),R(N.value*b)),W.value=!1;return}R((r.lang.rtl===!0?_.value!==!0:_.value)?Math.max(b-A,0):Math.min(0,A-b)),H(fe(A/b,0,1)),a.isFirst===!0&&(W.value=!0)}function Qe(a){if(p.value!==!0)return;const b=T.value,A=a.direction===e.side,ue=(r.lang.rtl===!0?A!==!0:A)?fe(a.distance.x,0,b):0;if(a.isFinal===!0){Math.abs(ue)<Math.min(75,b)===!0?(n.animate(),H(1),R(0)):d(),W.value=!1;return}R(N.value*ue),H(fe(1-ue/b,0,1)),a.isFirst===!0&&(W.value=!0)}function pe(){F(!1),we(!0)}function E(a,b){n.update(e.side,a,b)}function lt(a,b){a.value!==b&&(a.value=b)}function xe(a,b){E("size",a===!0?e.miniWidth:b)}return n.instances[e.side]=w,xe(e.miniToOverlay,T.value),E("space",D.value),E("offset",m.value),e.showIfAbove===!0&&e.modelValue!==!0&&p.value===!0&&e["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!0),st(()=>{v("on-layout",D.value),v("mini-state",s.value),L=e.showIfAbove===!0;const a=()=>{(p.value===!0?k:f)(!1,!0)};if(n.totalWidth.value!==0){Be(a);return}S=Q(n.totalWidth,()=>{S(),S=void 0,p.value===!1&&e.showIfAbove===!0&&i.value===!1?z(!1):a()})}),We(()=>{S!==void 0&&S(),clearTimeout(O),p.value===!0&&pe(),n.instances[e.side]===w&&(n.instances[e.side]=void 0,E("size",0),E("offset",0),E("space",!1))}),()=>{const a=[];i.value===!0&&(e.noSwipeOpen===!1&&a.push(M(C("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ge.value)),a.push($e("div",{ref:"backdrop",class:be.value,style:He.value,"aria-hidden":"true",onClick:d},void 0,"backdrop",e.noSwipeBackdrop!==!0&&p.value===!0,()=>et.value)));const b=s.value===!0&&g.mini!==void 0,A=[C("div",{...c,key:""+b,class:[Xe.value,c.class]},b===!0?g.mini():he(g.default))];return e.elevated===!0&&p.value===!0&&A.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push($e("aside",{ref:"content",class:Je.value,style:Ye.value},A,"contentclose",e.noSwipeClose!==!0&&i.value===!0,()=>Ze.value)),C("div",{class:"q-drawer-container"},a)}}}),Ut=J({name:"QAvatar",props:{...ot,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:g}){const v=it(e),c=o(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),l=o(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const r=e.icon!==void 0?[C(te,{name:e.icon})]:void 0;return C("div",{class:c.value,style:v.value},[C("div",{class:"q-avatar__content row flex-center overflow-hidden",style:l.value},rt(g.default,r))])}}});function ee(e,g,v,c){const l=[];return e.forEach(r=>{c(r)===!0?l.push(r):g.push({failedPropValidation:v,file:r})}),l}function me(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),je(e)}const Ht={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Et=["rejected"];function Kt({editable:e,dnd:g,getFileInput:v,addFilesToQueue:c}){const{props:l,emit:r,proxy:x}=ae(),F=V(null),q=o(()=>l.accept!==void 0?l.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),y=o(()=>parseInt(l.maxFiles,10)),n=o(()=>parseInt(l.maxTotalSize,10));function L(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target!==null&&t.target.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&ct(t);else{const k=v();k&&k!==t.target&&k.click(t)}}function O(t){e.value&&t&&c(null,t)}function S(t,k,f,z){let d=Array.from(k||t.target.files);const $=[],P=()=>{$.length>0&&r("rejected",$)};if(l.accept!==void 0&&q.value.indexOf("*/")===-1&&(d=ee(d,$,"accept",w=>q.value.some(_=>w.type.toUpperCase().startsWith(_)||w.name.toUpperCase().endsWith(_))),d.length===0))return P();if(l.maxFileSize!==void 0){const w=parseInt(l.maxFileSize,10);if(d=ee(d,$,"max-file-size",_=>_.size<=w),d.length===0)return P()}if(l.multiple!==!0&&d.length>0&&(d=[d[0]]),d.forEach(w=>{w.__key=w.webkitRelativePath+w.lastModified+w.name+w.size}),z===!0){const w=f.map(_=>_.__key);d=ee(d,$,"duplicate",_=>w.includes(_.__key)===!1)}if(d.length===0)return P();if(l.maxTotalSize!==void 0){let w=z===!0?f.reduce((_,N)=>_+N.size,0):0;if(d=ee(d,$,"max-total-size",_=>(w+=_.size,w<=n.value)),d.length===0)return P()}if(typeof l.filter=="function"){const w=l.filter(d);d=ee(d,$,"filter",_=>w.includes(_))}if(l.maxFiles!==void 0){let w=z===!0?f.length:0;if(d=ee(d,$,"max-files",()=>(w++,w<=y.value)),d.length===0)return P()}if(P(),d.length>0)return d}function i(t){me(t),g.value!==!0&&(g.value=!0)}function s(t){je(t),(t.relatedTarget!==null||dt.is.safari!==!0?t.relatedTarget!==F.value:document.elementsFromPoint(t.clientX,t.clientY).includes(F.value)===!1)===!0&&(g.value=!1)}function T(t){me(t);const k=t.dataTransfer.files;k.length>0&&c(null,k),g.value=!1}function p(t){if(g.value===!0)return C("div",{ref:F,class:`q-${t}__dnd absolute-full`,onDragenter:me,onDragover:me,onDragleave:s,onDrop:T})}return Object.assign(x,{pickFiles:L,addFiles:O}),{pickFiles:L,addFiles:O,onDragover:i,onDragleave:s,processFiles:S,getDndNode:p,maxFilesNumber:y,maxTotalSizeNumber:n}}var Yt=J({name:"QFile",inheritAttrs:!1,props:{...Ft,...Vt,...Ht,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Tt,...Et],setup(e,{slots:g,emit:v,attrs:c}){const{proxy:l}=ae(),r=Qt(),x=V(null),F=V(!1),q=$t(e),{pickFiles:y,onDragover:n,onDragleave:L,processFiles:O,getDndNode:S}=Kt({editable:r.editable,dnd:F,getFileInput:le,addFilesToQueue:W}),i=Mt(e),s=o(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),T=o(()=>Le(s.value)),p=o(()=>s.value.map(m=>m.name).join(", ")),t=o(()=>Dt(s.value.reduce((m,B)=>m+B.size,0))),k=o(()=>({totalSize:t.value,filesNumber:s.value.length,maxFiles:e.maxFiles})),f=o(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:q.value,...c,id:r.targetUid.value,disabled:r.editable.value!==!0})),z=o(()=>"q-file q-field--auto-height"+(F.value===!0?" q-file--dnd":"")),d=o(()=>e.multiple===!0&&e.append===!0);function $(m){const B=s.value.slice();B.splice(m,1),w(B)}function P(m){const B=s.value.findIndex(m);B>-1&&$(B)}function w(m){v("update:modelValue",e.multiple===!0?m:m[0])}function _(m){m.keyCode===13&&ft(m)}function N(m){(m.keyCode===13||m.keyCode===32)&&y(m)}function le(){return x.value}function W(m,B){const D=O(m,B,s.value,d.value),ne=le();ne!=null&&(ne.value=""),D!==void 0&&((e.multiple===!0?e.modelValue&&D.every(be=>s.value.includes(be)):e.modelValue===D[0])||w(d.value===!0?s.value.concat(D):D))}function U(){return[C("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function re(){if(g.file!==void 0)return s.value.length===0?U():s.value.map((B,D)=>g.file({index:D,file:B,ref:this}));if(g.selected!==void 0)return s.value.length===0?U():g.selected({files:s.value,ref:this});if(e.useChips===!0)return s.value.length===0?U():s.value.map((B,D)=>C(Lt,{key:"file-"+D,removable:r.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{$(D)}},()=>C("span",{class:"ellipsis",textContent:B.name})));const m=e.displayValue!==void 0?e.displayValue:p.value;return m.length>0?[C("div",{class:e.inputClass,style:e.inputStyle,textContent:m})]:U()}function Z(){const m={ref:x,...f.value,...i.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:W};return e.multiple===!0&&(m.multiple=!0),C("input",m)}return Object.assign(r,{fieldClass:z,emitValue:w,hasValue:T,inputRef:x,innerValue:s,floatingLabel:o(()=>T.value===!0||Le(e.displayValue)),computedCounter:o(()=>{if(e.counterLabel!==void 0)return e.counterLabel(k.value);const m=e.maxFiles;return`${s.value.length}${m!==void 0?" / "+m:""} (${t.value})`}),getControlChild:()=>S("file"),getControl:()=>{const m={ref:r.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return r.editable.value===!0&&Object.assign(m,{onDragover:n,onDragleave:L,onKeydown:_,onKeyup:N}),C("div",m,[Z()].concat(re()))}}),Object.assign(l,{removeAtIndex:$,removeFile:P,getNativeElement:()=>x.value}),Bt(r)}}),Xt=J({name:"QPageContainer",setup(e,{slots:g}){const{proxy:{$q:v}}=ae(),c=Ve(ge,j);if(c===j)return console.error("QPageContainer needs to be child of QLayout"),j;Ue(vt,!0);const l=o(()=>{const r={};return c.header.space===!0&&(r.paddingTop=`${c.header.size}px`),c.right.space===!0&&(r[`padding${v.lang.rtl===!0?"Left":"Right"}`]=`${c.right.size}px`),c.footer.space===!0&&(r.paddingBottom=`${c.footer.size}px`),c.left.space===!0&&(r[`padding${v.lang.rtl===!0?"Right":"Left"}`]=`${c.left.size}px`),r});return()=>C("div",{class:"q-page-container",style:l.value},he(g.default))}}),Jt=J({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:g,emit:v}){const{proxy:{$q:c}}=ae(),l=V(null),r=V(c.screen.height),x=V(e.container===!0?0:c.screen.width),F=V({position:0,direction:"down",inflectionPoint:0}),q=V(0),y=V(mt.value===!0?0:qe()),n=o(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),L=o(()=>e.container===!1?{minHeight:c.screen.height+"px"}:null),O=o(()=>y.value!==0?{[c.lang.rtl===!0?"left":"right"]:`${y.value}px`}:null),S=o(()=>y.value!==0?{[c.lang.rtl===!0?"right":"left"]:0,[c.lang.rtl===!0?"left":"right"]:`-${y.value}px`,width:`calc(100% + ${y.value}px)`}:null);function i(f){if(e.container===!0||document.qScrollPrevented!==!0){const z={position:f.position.top,direction:f.direction,directionChanged:f.directionChanged,inflectionPoint:f.inflectionPoint.top,delta:f.delta.top};F.value=z,e.onScroll!==void 0&&v("scroll",z)}}function s(f){const{height:z,width:d}=f;let $=!1;r.value!==z&&($=!0,r.value=z,e.onScrollHeight!==void 0&&v("scroll-height",z),p()),x.value!==d&&($=!0,x.value=d),$===!0&&e.onResize!==void 0&&v("resize",f)}function T({height:f}){q.value!==f&&(q.value=f,p())}function p(){if(e.container===!0){const f=r.value>q.value?qe():0;y.value!==f&&(y.value=f)}}let t;const k={instances:{},view:o(()=>e.view),isContainer:o(()=>e.container),rootRef:l,height:r,containerHeight:q,scrollbarWidth:y,totalWidth:o(()=>x.value+y.value),rows:o(()=>{const f=e.view.toLowerCase().split(" ");return{top:f[0].split(""),middle:f[1].split(""),bottom:f[2].split("")}}),header:ce({size:0,offset:0,space:!1}),right:ce({size:300,offset:0,space:!1}),footer:ce({size:0,offset:0,space:!1}),left:ce({size:300,offset:0,space:!1}),scroll:F,animate(){t!==void 0?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),t=void 0},155)},update(f,z,d){k[f][z]=d}};if(Ue(ge,k),qe()>0){let d=function(){f=null,z.classList.remove("hide-scrollbar")},$=function(){if(f===null){if(z.scrollHeight>c.screen.height)return;z.classList.add("hide-scrollbar")}else clearTimeout(f);f=setTimeout(d,300)},P=function(w){f!==null&&w==="remove"&&(clearTimeout(f),d()),window[`${w}EventListener`]("resize",$)},f=null;const z=document.body;Q(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),ht(()=>{P("remove")})}return()=>{const f=ut(g.default,[C(pt,{onScroll:i}),C(Fe,{onResize:s})]),z=C("div",{class:n.value,style:L.value,ref:e.container===!0?void 0:l,tabindex:-1},f);return e.container===!0?C("div",{class:"q-layout-container overflow-hidden",ref:l},[C(Fe,{onResize:T}),C("div",{class:"absolute-full",style:O.value},[C("div",{class:"scroll",style:S.value},[z])])]):z}}});function Me(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function Gt(e,g,v={}){const{mimeType:c,byteOrderMark:l,encoding:r}=typeof v=="string"?{mimeType:v}:v,x=r!==void 0?new TextEncoder(r).encode([g]):g,F=l!==void 0?[l,x]:[x],q=new Blob(F,{type:c||"application/octet-stream"}),y=document.createElement("a");y.href=window.URL.createObjectURL(q),y.setAttribute("download",e),typeof y.download=="undefined"&&y.setAttribute("target","_blank"),y.classList.add("hidden"),y.style.position="fixed",document.body.appendChild(y);try{return y.click(),Me(y),!0}catch(n){return Me(y),n}}const Zt={class:"q-mini-drawer-hide absolute",style:{top:"15px",right:"-17px"}},ea=ie("span",{class:"q-ml-sm q-mt-md"},"You are going to download the state of the tool. Are you sure?",-1),ta=ie("span",null,"Load",-1),aa={class:"q-ml-sm q-mt-md"},la=ie("p",null," You are going to load a state from disk. This will erase the state you worked on so far. ",-1),na={key:0,class:"text-warning text-bold text-center text-h6"},ha=gt({__name:"MainLayout",setup(e){const g=Ot(),v=Pt(),c=V(!1),l=V(!1),r=V(!1),x=V(!1),F=V(!1),q=V();function y(){c.value=!c.value}function n(S){l.value&&(l.value=!1,S.stopPropagation())}function L(S){const i=JSON.stringify(wt.getAll(),null,2);Gt("DecisionMatrix.dmh",i,"application/json")||console.log("Failed to download file. Use different browser.")}async function O(){if(!q.value)return;const S=await q.value.text(),i=JSON.parse(S);Object.keys(i).forEach(s=>{localStorage.setItem(s,Object(i[s]))}),window.location.reload()}return(S,i)=>(K(),G(Jt,{view:"hHh lpR fFf"},{default:h(()=>[u(Wt,{elevated:"",class:"bg-primary text-white"},{default:h(()=>[u(Ne,null,{default:h(()=>[u(I,{dense:"",flat:"",round:"",icon:"menu",onClick:y}),u(Re,null,{default:h(()=>[u(I,{label:"Decision Matrix Helper",flat:"",to:"/",icon:"home"})]),_:1}),u(De),u(I,{dense:"",flat:"",icon:"upload",onClick:i[0]||(i[0]=s=>F.value=!0),label:"Load"}),u(I,{dense:"",flat:"",icon:"save",onClick:i[1]||(i[1]=s=>r.value=!0),label:"Save"})]),_:1})]),_:1}),u(jt,{"show-if-above":"",modelValue:c.value,"onUpdate:modelValue":i[3]||(i[3]=s=>c.value=s),side:"left",bordered:"",mini:!c.value||l.value,onClickCapture:n,width:200,breakpoint:500,class:"bg-grey-3"},{default:h(()=>[u(xt,{class:"fit"},{default:h(()=>[u(Rt,{padding:"",class:"menu-list"},{default:h(()=>[M((K(),G(ve,{clickable:"",to:"wizard"},{default:h(()=>[u(X,{avatar:""},{default:h(()=>[u(te,{name:"auto_fix_normal"})]),_:1}),u(X,null,{default:h(()=>[Y(" Wizard ")]),_:1})]),_:1})),[[se]]),M((K(),G(ve,{clickable:"",to:"Alternatives"},{default:h(()=>[u(X,{avatar:""},{default:h(()=>[u(te,{name:"build"}),u(_e,null,{default:h(()=>[Y(Se(de(v).alternatives.length),1)]),_:1})]),_:1}),u(X,null,{default:h(()=>[Y(" Alternatives ")]),_:1})]),_:1})),[[se]]),M((K(),G(ve,{clickable:"",to:"features"},{default:h(()=>[u(X,{avatar:""},{default:h(()=>[u(te,{name:"checklist"}),u(_e,null,{default:h(()=>[Y(Se(de(g).features.length),1)]),_:1})]),_:1}),u(X,null,{default:h(()=>[Y(" Features ")]),_:1})]),_:1})),[[se]]),M((K(),G(ve,{clickable:"",to:"decisionmatrix"},{default:h(()=>[u(X,{avatar:""},{default:h(()=>[u(te,{name:"functions"}),de(v).alternatives.length<1?(K(),G(_e,{key:0,floating:""},{default:h(()=>[Y(Se("warning"))]),_:1})):Ce("",!0)]),_:1}),u(X,null,{default:h(()=>[Y(" Decision Matrix ")]),_:1})]),_:1})),[[se]])]),_:1})]),_:1}),ie("div",Zt,[u(I,{dense:"",round:"",unelevated:"",color:"accent",icon:"chevron_left",onClick:i[2]||(i[2]=s=>l.value=!0)})])]),_:1},8,["modelValue","mini"]),u(Oe,{modelValue:r.value,"onUpdate:modelValue":i[4]||(i[4]=s=>r.value=s),persistent:""},{default:h(()=>[u(Pe,null,{default:h(()=>[u(ze,{class:"row items-center"},{default:h(()=>[u(Ut,{icon:"save",color:"primary","text-color":"white"}),ea]),_:1}),u(Ae,{align:"right"},{default:h(()=>[M(u(I,{flat:"",label:"Cancel",color:"primary"},null,512),[[oe]]),M(u(I,{flat:"",icon:"download ",label:"Download",color:"primary",onClick:L},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u(Oe,{modelValue:F.value,"onUpdate:modelValue":i[7]||(i[7]=s=>F.value=s),persistent:""},{default:h(()=>[u(Pe,null,{default:h(()=>[u(Ne,{class:"bg-primary text-white"},{default:h(()=>[u(te,{name:"upload",size:"md"}),u(Re,null,{default:h(()=>[ta,Y(" State from Disk")]),_:1}),M(u(I,{flat:"",round:"",dense:"",icon:"close"},null,512),[[oe]])]),_:1}),u(ze,{class:"row items-center"},{default:h(()=>[ie("span",aa,[la,q.value?(K(),bt("p",na," Are you sure you want to do that? ")):Ce("",!0)])]),_:1}),u(ze,null,{default:h(()=>[u(Yt,{modelValue:q.value,"onUpdate:modelValue":i[5]||(i[5]=s=>q.value=s),clearable:"",accept:".dmh",counter:"",label:"Choose your file to upload"},null,8,["modelValue"])]),_:1}),u(Ae,{align:"left"},{default:h(()=>[q.value?(K(),G(At,{key:0,modelValue:x.value,"onUpdate:modelValue":i[6]||(i[6]=s=>x.value=s),label:"I want to replace the current state of the app"},null,8,["modelValue"])):Ce("",!0),u(De),M(u(I,{flat:"",label:"Cancel",color:"primary"},null,512),[[oe]]),M(u(I,{icon:"upload ",label:"Upload",color:"primary",disable:!q.value||!x.value,onClick:O},null,8,["disable"]),[[oe]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u(Xt,null,{default:h(()=>[u(de(yt))]),_:1})]),_:1}))}});export{ha as default};
