import{i as d}from"./QBtn.1910c017.js";import{Q as k}from"./QSpace.5291607d.js";import{Q as w,a as i,b as E,c as g,d as _}from"./QTable.e574e022.js";import{Q as y}from"./QInput.8be4fe5b.js";import{j as C,k as Q,v as U}from"./alternative.f73a4737.js";import{B as A,r as m,D as q,E as D,F as r,G as a,J as f}from"./index.1bb13a1b.js";var l=(t=>(t[t["very important"]=4]="very important",t[t.important=3]="important",t[t["less important"]=2]="less important",t[t.unimportant=1]="unimportant",t[t.undefined=0]="undefined",t))(l||{});const G=A({__name:"FeaturesComponent",setup(t){const n=C(),c=Q();m(!1),m("");const p=m(["name","description","status","delete","isExclusive"]),v=m(!1),h=[{label:l[l["very important"]],value:l["very important"]},{label:l[l.important],value:l.important},{label:l[l["less important"]],value:l["less important"]},{label:l[l.unimportant],value:l.unimportant},{label:l[l.undefined],value:l.undefined}],b=[{name:"name",align:"left",label:"Features",field:"name",sortable:!0},{name:"description",align:"left",label:"Description (editable)",field:"description",sortable:!0},{name:"isExclusive",label:"Exclusive Feature",field:"isExclusive",sortable:!0},{name:"status",align:"center",label:"Status",field:"status",sortable:!0},{name:"delete",label:"",field:"delete"}];function V(){if(n.features.length>0&&n.features[n.features.length-1].name==="new Feature")return;const o={id:U(),name:"Feature "+n.features.length,description:"new Feature description",status:l.undefined,isExclusive:!1};n.addFeature(o),c.updateAlternativeWithFeature(o)}function x(o){n.deleteFeature(o),c.deleteAssessmentWithFeature(o)}function F(){let o=[...n.features];console.log(o),n.deleteAllFeatures(),o.forEach(u=>c.deleteAssessmentWithFeature(u))}return(o,u)=>(q(),D(_,{flat:"",title:"Features",rows:f(n).features,columns:b,"visible-columns":p.value,"rows-per-page-options":[10],"row-key":"features.id"},{top:r(()=>[a(d,{class:"q-ma-md",color:"primary",icon:"add",label:"",onClick:V,"no-caps":""}),a(d,{class:"q-ma-md",color:"primary",icon:"delete",label:"",onClick:F,"no-caps":""}),a(k),a(w,{modelValue:p.value,"onUpdate:modelValue":u[0]||(u[0]=e=>p.value=e),multiple:"",outlined:"",dense:"","options-dense":"","display-value":o.$q.lang.table.columns,"emit-value":"","map-options":"",options:b,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value"]),a(d,{class:"q-ml-md",color:"primary","icon-right":"archive",label:"Export to csv","no-caps":""})]),body:r(e=>[a(g,{props:e},{default:r(()=>[a(i,{key:"name",props:e,"auto-width":""},{default:r(()=>[a(y,{style:{"min-width":"128px"},label:"Name",modelValue:e.row.name,"onUpdate:modelValue":s=>e.row.name=s,type:"textarea",readonly:v.value,autogrow:"",borderless:"",dense:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1032,["props"]),a(i,{key:"description",props:e},{default:r(()=>[a(y,{label:"Description",modelValue:e.row.description,"onUpdate:modelValue":s=>e.row.description=s,type:"textarea",readonly:v.value,autogrow:"",borderless:"",dense:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1032,["props"]),a(i,{key:"isExclusive",props:e,"auto-width":""},{default:r(()=>[a(E,{modelValue:e.row.isExclusive,"onUpdate:modelValue":s=>e.row.isExclusive=s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),a(i,{key:"status",props:e,"auto-width":""},{default:r(()=>[a(w,{style:{"min-width":"180px"},label:"Priority","map-options":"",modelValue:e.row.status,"onUpdate:modelValue":s=>e.row.status=s,options:h,disable:e.row.isExclusive,"emit-value":"",borderless:"",dense:"",clearable:e.row.status!=f(l).undefined,onClear:s=>e.row.status=f(l).undefined},null,8,["modelValue","onUpdate:modelValue","disable","clearable","onClear"])]),_:2},1032,["props"]),a(i,{key:"delete",props:e,"auto-width":""},{default:r(()=>[a(d,{class:"q-ml-md",color:"secondary","icon-right":"delete","no-caps":"",onClick:s=>x(e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),"bottom-row":r(()=>[]),_:1},8,["rows","visible-columns"]))}});export{G as _};
