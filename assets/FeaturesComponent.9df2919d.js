import{i as d}from"./QBtn.cd4d6a81.js";import{Q as E}from"./QBadge.6277acd3.js";import{Q as C}from"./QSpace.2ef2f611.js";import{Q as b,a as m,b as _,c as Q}from"./QTable.acaa960e.js";import{Q as w}from"./QInput.94f5db9f.js";import{n as A}from"./QCheckbox.3da508d1.js";import{j as U,k as q,v as B}from"./alternative.4e95abac.js";import{B as W,r as y,C as D,D as T,E as r,F as t,I as p}from"./index.97ae05ef.js";var a=(o=>(o[o["very important"]=4]="very important",o[o.important=3]="important",o[o["less important"]=2]="less important",o[o.unimportant=1]="unimportant",o[o.undefined=0]="undefined",o))(a||{});const G=W({__name:"FeaturesComponent",setup(o){const n=U(),u=q(),c=y(["name","description","status","delete","isExclusive"]),f=y(!1),h=[{label:a[a["very important"]],value:a["very important"]},{label:a[a.important],value:a.important},{label:a[a["less important"]],value:a["less important"]},{label:a[a.unimportant],value:a.unimportant},{label:a[a.undefined],value:a.undefined}],v=[{name:"name",align:"left",label:"Features",field:"name",sortable:!0},{name:"description",align:"left",label:"Description (editable)",field:"description",sortable:!0},{name:"isExclusive",label:"Exclusive Feature",field:"isExclusive",sortable:!0},{name:"status",align:"center",label:"Status",field:"status",sortable:!0},{name:"delete",label:"",field:"delete"}];function F(l){console.log(l),u.updateAlternativeWithFeature(l)}function V(){if(n.features.length>0&&n.features[n.features.length-1].name==="new Feature")return;const l={id:B(),name:"Feature "+n.features.length,description:"new Feature description",status:a.undefined,isExclusive:!1};n.addFeature(l),u.updateAlternativeWithFeature(l)}function g(l){n.deleteFeature(l),u.deleteAssessmentWithFeature(l)}function x(){let l=[...n.features];console.log(l),n.deleteAllFeatures(),l.forEach(i=>u.deleteAssessmentWithFeature(i))}function k(){[...n.features].forEach(i=>{console.log(i),u.updateAlternativeWithFeature(i)})}return(l,i)=>(D(),T(Q,{flat:"",title:"Features",rows:p(n).features,columns:v,"visible-columns":c.value,"rows-per-page-options":[10],"row-key":"features.id"},{top:r(()=>[t(d,{class:"q-ma-sm",color:"primary",icon:"add",label:"",onClick:V,"no-caps":""}),t(d,{class:"q-ma-sm",color:"secondary",icon:"delete",label:"",onClick:x,"no-caps":""}),t(d,{class:"q-ma-sm",color:"accent",icon:"refresh",label:"Sync Alternatives",onClick:k,"no-caps":""},{default:r(()=>[t(E,{label:"Beta",floating:""})]),_:1}),t(C),t(b,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=e=>c.value=e),multiple:"",outlined:"",dense:"","options-dense":"","display-value":l.$q.lang.table.columns,"emit-value":"","map-options":"",options:v,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value"]),t(d,{class:"q-ml-md",color:"primary","icon-right":"archive",label:"Export to csv","no-caps":""})]),body:r(e=>[t(_,{props:e},{default:r(()=>[t(m,{key:"name",props:e,"auto-width":""},{default:r(()=>[t(w,{style:{"min-width":"128px"},label:"Name",modelValue:e.row.name,"onUpdate:modelValue":s=>e.row.name=s,type:"textarea",readonly:f.value,autogrow:"",borderless:"",dense:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1032,["props"]),t(m,{key:"description",props:e},{default:r(()=>[t(w,{label:"Description",modelValue:e.row.description,"onUpdate:modelValue":s=>e.row.description=s,type:"textarea",readonly:f.value,autogrow:"",borderless:"",dense:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1032,["props"]),t(m,{key:"isExclusive",props:e,"auto-width":""},{default:r(()=>[t(A,{modelValue:e.row.isExclusive,"onUpdate:modelValue":s=>e.row.isExclusive=s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),t(m,{key:"status",props:e,"auto-width":""},{default:r(()=>[t(b,{style:{"min-width":"180px"},label:"Priority","map-options":"",modelValue:e.row.status,"onUpdate:modelValue":[s=>e.row.status=s,s=>F(e.row)],options:h,disable:e.row.isExclusive,"emit-value":"",borderless:"",dense:"",clearable:e.row.status!=p(a).undefined,onClear:s=>e.row.status=p(a).undefined},null,8,["modelValue","onUpdate:modelValue","disable","clearable","onClear"])]),_:2},1032,["props"]),t(m,{key:"delete",props:e,"auto-width":""},{default:r(()=>[t(d,{class:"q-ml-md",color:"secondary","icon-right":"delete","no-caps":"",onClick:s=>g(e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),"bottom-row":r(()=>[]),_:1},8,["rows","visible-columns"]))}});export{G as _};
